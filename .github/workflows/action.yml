name: Reusable workflow

on:
  workflow_call:
    inputs:
      # team:
      #   required: true
      #   type: string
      # api-url:
      #   required: true
      #   type: string
      aws-region:
        required: true
        default: 'eu-west-1'
        type: string  
      role-to-assume:
        required: true
        type: string
      role-session-name:
        required: true
        type: string
      # account:
      #   required: true
      #   type: string
    # secrets: ##EXAMPLES
    #   username:
    #     required: true
    #   password:
    #     required: true        

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout the code
      uses: actions/checkout@v3

    - name: Configure aws credentials
      uses: aws-actions/configure-aws-credentials@v1
      with:
        role-to-assume: ${{ inputs.role-to-assume }}
        role-session-name: ${{ inputs.role-session-name }}
        aws-region: ${{ inputs.aws-region }}